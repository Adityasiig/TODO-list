name: Deploy to GitHub Pages

on:
  push:
    branches: [ main, master ]
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'
          
      - name: Create simple build
        run: |
          mkdir -p build
          cp -r public build/
          cp -r *.html build/
          cp .nojekyll build/
          
          # Create simple index.html
          cat > build/index.html << 'EOL'
          <!DOCTYPE html>
          <html>
          <head>
              <title>TODO List App - Simple Version</title>
              <style>
                  body {
                      font-family: Arial, sans-serif;
                      max-width: 800px;
                      margin: 0 auto;
                      padding: 20px;
                      text-align: center;
                  }
                  h1 {
                      color: #0366d6;
                  }
                  .button {
                      display: inline-block;
                      padding: 10px 20px;
                      margin-top: 20px;
                      background-color: #0366d6;
                      color: white;
                      border-radius: 4px;
                      text-decoration: none;
                      transition: background-color 0.2s;
                  }
                  .button:hover {
                      background-color: #0255b3;
                  }
              </style>
          </head>
          <body>
              <h1>TODO List App</h1>
              <p>Simple version for testing GitHub Pages deployment.</p>
              <p>Deployment timestamp: $(date)</p>
              
              <div>
                  <h2>Test Links:</h2>
                  <p><a href="test.html">Test Page</a></p>
                  <p><a href="direct-test.html">Direct Test Page</a></p>
              </div>
          </body>
          </html>
          EOL
          
      - name: Deploy to GitHub Pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: build 